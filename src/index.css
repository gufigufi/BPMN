@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#root {
  height: 100%;
  margin: 0;
  overflow: hidden;
  background-color: #0f172a;
  /* Slate 900 for the app shell */
  color: #f1f5f9;
}

/* 1. BPMN CANVAS - Standard Light Look */
.djs-container {
  background-color: #ffffff !important;
  color: #000000;
}

/* Base shape and text colors for white background */
.djs-visual rect,
.djs-visual circle,
.djs-visual polygon,
.djs-visual polyline,
.djs-visual ellipse,
.djs-visual path {
  fill: #ffffff;
  /* Default white fill */
  stroke: #222222;
}

/* 2. MANUAL COLOR OVERRIDES (CRITICAL FIX) */
/* We MUST force children to inherit fill/stroke when parent group has a manual color style. */
.djs-visual[style*="fill"] rect,
.djs-visual[style*="fill"] circle,
.djs-visual[style*="fill"] polygon,
.djs-visual[style*="fill"] polyline,
.djs-visual[style*="fill"] ellipse,
.djs-visual[style*="fill"] path {
  fill: inherit !important;
}

.djs-visual[style*="stroke"] rect,
.djs-visual[style*="stroke"] circle,
.djs-visual[style*="stroke"] polygon,
.djs-visual[style*="stroke"] polyline,
.djs-visual[style*="stroke"] ellipse,
.djs-visual[style*="stroke"] path {
  stroke: inherit !important;
}

/* Special fix for Lanes/Pools to ensure they are always visible when colored */
.djs-element[data-element-id*="Lane"] .djs-visual rect,
.djs-element[data-element-id*="Participant"] .djs-visual rect {
  fill: inherit;
}

/* 3. CONNECTIONS & MARKERS */
.djs-connection path {
  stroke: #222222 !important;
}

marker path {
  fill: #222222 !important;
  stroke: none !important;
}

/* 4. TEXT & LABELS */
/* Set default text color WITHOUT !important to allow overrides */
.djs-container text,
.djs-container tspan,
.djs-label {
  fill: #000000;
  font-family: 'Inter', sans-serif !important;
  font-size: 11px !important;
}

/* Label toggle support (T-button in panel) */
.label-dark text,
.label-dark tspan,
.label-dark .djs-label {
  fill: #000000 !important;
}

.label-light text,
.label-light tspan,
.label-light .djs-label {
  fill: #ffffff !important;
}

/* 5. UI COMPONENTS (Themed to bridge dark app shell and white canvas) */
.djs-palette {
  background: transparent !important;
  border: none !important;
}

.djs-palette .entry,
.djs-palette .entry::before {
  color: #333333 !important;
}

.djs-context-pad {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.djs-context-pad .entry,
.djs-context-pad .entry::before {
  color: #333333 !important;
}

.djs-context-pad .entry:hover {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

.djs-popup {
  background: #ffffff !important;
  border: 1px solid #cccccc !important;
  color: #333333 !important;
}

.djs-popup-header {
  border-bottom: 1px solid #eeeeee !important;
}