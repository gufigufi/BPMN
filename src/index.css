@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#root {
  height: 100%;
  margin: 0;
  overflow: hidden;
}

/* BPMN Customization */
.djs-palette {
  background: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 8px !important;
}

/* --- LIGHT MODE DEFAULTS --- */
.djs-visual rect,
.djs-visual circle,
.djs-visual polygon {
  fill: #ffffff;
  stroke: #111827;
}

/* --- DARK MODE DEFAULTS (Container) --- */
.dark .djs-container {
  background-color: #0f172a !important;
  /* Slate 900 */
}

/* 1. SHAPE COLORS IN DARK MODE */
/* Forces uncolored elements to dark background using !important */
.dark .djs-visual rect,
.dark .djs-visual circle,
.dark .djs-visual polygon,
.dark .djs-visual path {
  fill: rgb(31 41 55) !important;
  /* Original Gray 800 */
  stroke: #475569 !important;
  /* Slate 600 */
}

/* Allow manual coloring to override the default dark fill */
.dark .djs-visual[style*="fill"] rect,
.dark .djs-visual[style*="fill"] circle,
.dark .djs-visual[style*="fill"] polygon,
.dark .djs-visual[style*="fill"] path {
  fill: inherit !important;
  stroke: inherit !important;
}

/* 2. TEXT COLORS (LIGHT/DARK DEFAULTS) */
.djs-container text,
.djs-label {
  font-family: 'Inter', sans-serif !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  fill: #111827 !important;
  /* Default for Light Mode */
}

.dark .djs-container text,
.dark .djs-label {
  fill: #ffffff !important;
  /* Default for Dark Mode */
}

/* 3. T-TOGGLE OVERRIDES (MARKERS) */
.label-light text,
.label-light .djs-label {
  fill: #ffffff !important;
}

.label-dark text,
.label-dark .djs-label {
  fill: #111827 !important;
}

/* Connections & Markers in Dark Mode */
.dark .djs-connection:not([style*="stroke"]) path {
  stroke: #64748b !important;
}

.dark marker path {
  fill: #64748b !important;
  stroke: #64748b !important;
}

/* UI Components (Palette, Context Pad, Popups) */
.dark .djs-palette {
  background: #1e293b !important;
  border: 1px solid #334155 !important;
}

.dark .djs-palette .entry {
  color: #94a3b8 !important;
}

.dark .djs-palette .entry:hover {
  color: #3b82f6 !important;
  background-color: #334155 !important;
}

.dark .djs-context-pad {
  background-color: #1e293b !important;
  border: 1px solid #334155 !important;
  border-radius: 8px !important;
}

.dark .djs-context-pad .entry:hover {
  background-color: #334155 !important;
}

.dark .djs-popup {
  background: #1e293b !important;
  border: 1px solid #334155 !important;
  color: #f1f5f9 !important;
}

.dark .djs-popup-header {
  border-bottom: 1px solid #334155 !important;
}

.dark .djs-popup-body .entry:hover {
  background-color: #334155 !important;
}